<!DOCTYPE html>

<!-- 

 nato_play 控制端。命令行指令：

   natoPlay.start('http://127.0.0.1:8080', 100); // 連接到位於 127.0.0.1:8080 的服務器，使用 100 作為 ID。
   natoPlay.task.add(60, 0, 300, 60); // 增加一個任務：60Hz, 0db，300ms 間隔，60ms 長度。
   natoPlay.rpc.get(console.log); // 列出被控端任務。
   natoPlay.task.remove(2); // 移除被控端 id 為 2 的任務。

-->

<html>
<head>
<!--<script src="bower_components/tone/build/Tone.js"></script>-->
<script src="assets/js/control.js"></script>
<script src="assets/js/server.js"></script>
<script src="assets/js/UI.js"></script>
<body>
<label>server: <input type=text id=server placeholder="http://..."></input></label><br>
<label>id: <input type=text id=id></input></label><br>
<button id=conn onclick="connect();">Connect</button>
<hr>
<label>freq: <input type=text id=freq></input></label><br>
<label>level: <input type=text id=level></input></label><br>
<label>interval: <input type=text id=interval></input></label><br>
<label>duration: <input type=text id=duration></input></label><br>
<button onclick='taskadd();'>Add Task</button>
<hr>
task: <input type=text id=task></input> <button onclick="natoPlay.task.remove(parseInt(document.getElementById('task').value));">Remove</button>
<hr>
<script>
function taskadd() {
  var freq = parseInt(document.getElementById('freq').value),
      lvl  = parseInt(document.getElementById('level').value),
      intv = parseInt(document.getElementById('interval').value),
      dur  = parseInt(document.getElementById('duration').value);
  natoPlay.task.add(freq, lvl, intv, dur);
}
function connect() {
  natoPlay.start(document.getElementById('server').value, document.getElementById('id').value);
  document.getElementById('conn').disabled = true;
}
</script>
<h3>Tasks: </h3>
<div id=tasklist></div>
</body>
</head>
</html>
